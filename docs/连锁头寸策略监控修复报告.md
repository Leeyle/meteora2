# ğŸ”§ è¿é”å¤´å¯¸ç­–ç•¥ç›‘æ§ä¿®å¤æŠ¥å‘Š

## âŒ é—®é¢˜æè¿°

åœ¨å®Œæˆç®€å•Yç­–ç•¥å‰ç«¯é‡æ„åï¼Œè¿é”å¤´å¯¸ç­–ç•¥çš„ç›‘æ§åŠŸèƒ½å‡ºç°é—®é¢˜ï¼š
- ä¸æ˜¾ç¤ºç­–ç•¥å®ä¾‹å¡ç‰‡
- æ˜¾ç¤ºçš„æ˜¯æ—§çš„ç®€å•Yç­–ç•¥ç›‘æ§ç•Œé¢
- ç­–ç•¥åˆ—è¡¨ä¸ºç©ºæˆ–æ˜¾ç¤ºé”™è¯¯

## ğŸ” é—®é¢˜æ ¹å› åˆ†æ

### ç±»åå†²çªé—®é¢˜
åœ¨ç®€å•Yç­–ç•¥å‰ç«¯é‡æ„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å¤åˆ¶äº†è¿é”å¤´å¯¸ç­–ç•¥çš„ç›‘æ§ç»„ä»¶ï¼Œä½†ä½¿ç”¨äº†ç›¸åŒçš„ç±»åï¼š

| ç»„ä»¶ç±»å | è¿é”å¤´å¯¸ç­–ç•¥ | ç®€å•Yç­–ç•¥ | å†²çªçŠ¶æ€ |
|----------|-------------|-----------|----------|
| `DataService` | âœ… åŸå§‹ç±» | âŒ åŒåç±» | ğŸ”´ å†²çª |
| `UIManager` | âœ… åŸå§‹ç±» | âŒ åŒåç±» | ğŸ”´ å†²çª |
| `EnvironmentAdapter` | âœ… åŸå§‹ç±» | âŒ åŒåç±» | ğŸ”´ å†²çª |
| `ConnectionManager` | âœ… åŸå§‹ç±» | âŒ åŒåç±» | ğŸ”´ å†²çª |
| `StrategyController` | âœ… åŸå§‹ç±» | âŒ åŒåç±» | ğŸ”´ å†²çª |
| `ConfigManager` | âœ… åŸå§‹ç±» | âŒ åŒåç±» | ğŸ”´ å†²çª |

### é—®é¢˜å½±å“
1. **JavaScriptç±»è¦†ç›–**: ååŠ è½½çš„ç®€å•Yç›‘æ§ç»„ä»¶ç±»è¦†ç›–äº†è¿é”å¤´å¯¸ç›‘æ§ç»„ä»¶çš„åŒåç±»
2. **åŠŸèƒ½é”™ä¹±**: è¿é”å¤´å¯¸ç­–ç•¥è°ƒç”¨çš„æ˜¯ç®€å•Yç­–ç•¥çš„ç›‘æ§é€»è¾‘
3. **æ•°æ®è¿‡æ»¤é”™è¯¯**: ç®€å•Yçš„DataServiceåªè¿‡æ»¤ `type === 'simple-y'`ï¼Œå¯¼è‡´è¿é”å¤´å¯¸ç­–ç•¥æ•°æ®è¢«è¿‡æ»¤æ‰

## âœ… ä¿®å¤æ–¹æ¡ˆ

### 1. é‡å‘½åç®€å•Yç›‘æ§ç»„ä»¶ç±»
ä¸ºæ‰€æœ‰ç®€å•Yç›‘æ§ç»„ä»¶çš„ç±»åæ·»åŠ  `SimpleY` å‰ç¼€ï¼Œé¿å…ä¸è¿é”å¤´å¯¸ç»„ä»¶å†²çªï¼š

| åŸç±»å | æ–°ç±»å | çŠ¶æ€ |
|--------|--------|------|
| `EnvironmentAdapter` | `SimpleYEnvironmentAdapter` | âœ… å·²ä¿®å¤ |
| `ConnectionManager` | `SimpleYConnectionManager` | âœ… å·²ä¿®å¤ |
| `DataService` | `SimpleYDataService` | âœ… å·²ä¿®å¤ |
| `UIManager` | `SimpleYUIManager` | âœ… å·²ä¿®å¤ |
| `StrategyController` | `SimpleYStrategyController` | âœ… å·²ä¿®å¤ |
| `ConfigManager` | `SimpleYConfigManager` | âœ… å·²ä¿®å¤ |
| `SimpleYStrategyMonitor` | `SimpleYStrategyMonitor` | âœ… ä¿æŒä¸å˜ |

### 2. æ›´æ–°ç±»å¼•ç”¨
æ›´æ–°æ‰€æœ‰ç›¸å…³æ–‡ä»¶ä¸­å¯¹è¿™äº›ç±»çš„å¼•ç”¨ï¼š

#### SimpleYStrategyMonitor.js
```javascript
// ä¿®å¤å‰
this.environmentAdapter = new EnvironmentAdapter();
this.connectionManager = new ConnectionManager(this.environmentAdapter);
this.dataService = new DataService(this.environmentAdapter);
this.uiManager = new UIManager(this.container);
this.strategyController = new StrategyController(this.dataService, this.uiManager);

// ä¿®å¤å  
this.environmentAdapter = new SimpleYEnvironmentAdapter();
this.connectionManager = new SimpleYConnectionManager(this.environmentAdapter);
this.dataService = new SimpleYDataService(this.environmentAdapter);
this.uiManager = new SimpleYUIManager(this.container);
this.strategyController = new SimpleYStrategyController(this.dataService, this.uiManager);
```

#### SimpleYStrategyController.js
```javascript
// ä¿®å¤å‰
this.configManager = new ConfigManager(this.dataService, this.uiManager);

// ä¿®å¤å
this.configManager = new SimpleYConfigManager(this.dataService, this.uiManager);
```

### 3. æ›´æ–°å…¨å±€å¯¼å‡º
æ›´æ–°æ¯ä¸ªç±»æ–‡ä»¶æœ«å°¾çš„å…¨å±€å¯¼å‡ºï¼š

```javascript
// ä¿®å¤å‰
window.DataService = DataService;

// ä¿®å¤å
window.SimpleYDataService = SimpleYDataService;
```

### 4. æ›´æ–°ç±»ç­‰å¾…åˆ—è¡¨
åœ¨ `app.js` ä¸­æ›´æ–°ç®€å•Yç­–ç•¥çš„ç±»ç­‰å¾…åˆ—è¡¨ï¼š

```javascript
await this.waitForClasses([
    'SimpleYManager',
    'SimpleYCreator', 
    'SimpleYStrategyMonitor',
    'SimpleYEnvironmentAdapter',
    'SimpleYConnectionManager',
    'SimpleYDataService',
    'SimpleYUIManager',
    'SimpleYStrategyController',
    'SimpleYConfigManager'
], 10000);
```

## ğŸ”§ ä¿®å¤æ‰§è¡Œ

### æ‰§è¡Œçš„ä¿®å¤æ“ä½œ
1. âœ… é‡å‘½åæ‰€æœ‰ç®€å•Yç›‘æ§ç»„ä»¶ç±»
2. âœ… æ›´æ–° `SimpleYStrategyMonitor.js` ä¸­çš„ç±»å¼•ç”¨
3. âœ… æ›´æ–° `SimpleYStrategyController.js` ä¸­çš„ç±»å¼•ç”¨
4. âœ… æ›´æ–°æ‰€æœ‰ç±»æ–‡ä»¶çš„å…¨å±€å¯¼å‡º
5. âœ… æ›´æ–° `app.js` ä¸­çš„ç±»ç­‰å¾…åˆ—è¡¨

### ä½¿ç”¨çš„å‘½ä»¤
```bash
# é‡å‘½åç±»å®šä¹‰
sed -i '' 's/class EnvironmentAdapter/class SimpleYEnvironmentAdapter/g' EnvironmentAdapter.js
sed -i '' 's/class ConnectionManager/class SimpleYConnectionManager/g' ConnectionManager.js
sed -i '' 's/class StrategyController/class SimpleYStrategyController/g' StrategyController.js
sed -i '' 's/class ConfigManager/class SimpleYConfigManager/g' ConfigManager.js

# æ›´æ–°å…¨å±€å¯¼å‡º
sed -i '' 's/window.ConnectionManager = ConnectionManager/window.SimpleYConnectionManager = SimpleYConnectionManager/g' ConnectionManager.js
sed -i '' 's/window.DataService = DataService/window.SimpleYDataService = SimpleYDataService/g' DataService.js
sed -i '' 's/window.UIManager = UIManager/window.SimpleYUIManager = SimpleYUIManager/g' UIManager.js
sed -i '' 's/window.StrategyController = StrategyController/window.SimpleYStrategyController = SimpleYStrategyController/g' StrategyController.js
sed -i '' 's/window.ConfigManager = ConfigManager/window.SimpleYConfigManager = SimpleYConfigManager/g' ConfigManager.js
```

## ğŸ¯ ä¿®å¤éªŒè¯

### ç‹¬ç«‹æ€§éªŒè¯
ä¿®å¤åï¼Œä¸¤ä¸ªç­–ç•¥ç³»ç»Ÿå®Œå…¨ç‹¬ç«‹ï¼š

| ç»„ä»¶ | è¿é”å¤´å¯¸ç­–ç•¥ | ç®€å•Yç­–ç•¥ | ç‹¬ç«‹æ€§ |
|------|-------------|-----------|--------|
| **ç¯å¢ƒé€‚é…** | `EnvironmentAdapter` | `SimpleYEnvironmentAdapter` | âœ… å®Œå…¨ç‹¬ç«‹ |
| **è¿æ¥ç®¡ç†** | `ConnectionManager` | `SimpleYConnectionManager` | âœ… å®Œå…¨ç‹¬ç«‹ |
| **æ•°æ®æœåŠ¡** | `DataService` | `SimpleYDataService` | âœ… å®Œå…¨ç‹¬ç«‹ |
| **UIç®¡ç†** | `UIManager` | `SimpleYUIManager` | âœ… å®Œå…¨ç‹¬ç«‹ |
| **ç­–ç•¥æ§åˆ¶** | `StrategyController` | `SimpleYStrategyController` | âœ… å®Œå…¨ç‹¬ç«‹ |
| **é…ç½®ç®¡ç†** | `ConfigManager` | `SimpleYConfigManager` | âœ… å®Œå…¨ç‹¬ç«‹ |
| **ä¸»ç›‘æ§å™¨** | `StrategyMonitor` | `SimpleYStrategyMonitor` | âœ… å®Œå…¨ç‹¬ç«‹ |

### åŠŸèƒ½éªŒè¯
- âœ… è¿é”å¤´å¯¸ç­–ç•¥ç›‘æ§æ­£å¸¸æ˜¾ç¤ºç­–ç•¥å®ä¾‹å¡ç‰‡
- âœ… è¿é”å¤´å¯¸ç­–ç•¥è¿‡æ»¤ `type === 'chain_position'` æ•°æ®
- âœ… ç®€å•Yç­–ç•¥è¿‡æ»¤ `type === 'simple-y'` æ•°æ®
- âœ… ä¸¤ä¸ªç­–ç•¥ç³»ç»Ÿäº’ä¸å¹²æ¶‰

## ğŸ“š ç»éªŒæ•™è®­

### é—®é¢˜åŸå› 
1. **å‘½åç©ºé—´å†²çª**: åœ¨å¤åˆ¶ç»„ä»¶æ—¶æ²¡æœ‰è€ƒè™‘åˆ°ç±»åå†²çªé—®é¢˜
2. **å…¨å±€æ±¡æŸ“**: JavaScriptå…¨å±€ä½œç”¨åŸŸä¸­çš„ç±»ä¼šç›¸äº’è¦†ç›–
3. **æµ‹è¯•ä¸å……åˆ†**: æ²¡æœ‰å……åˆ†æµ‹è¯•ä¸¤ä¸ªç­–ç•¥ç³»ç»Ÿçš„ç‹¬ç«‹æ€§

### é¢„é˜²æªæ–½
1. **å‘½åçº¦å®š**: ä¸ºä¸åŒæ¨¡å—çš„ç±»ä½¿ç”¨ä¸åŒçš„å‰ç¼€
2. **æ¨¡å—åŒ–è®¾è®¡**: ä½¿ç”¨ES6æ¨¡å—æˆ–å‘½åç©ºé—´é¿å…å…¨å±€æ±¡æŸ“
3. **ç‹¬ç«‹æµ‹è¯•**: ç¡®ä¿æ¯ä¸ªç­–ç•¥ç³»ç»Ÿç‹¬ç«‹è¿è¡Œå’Œæµ‹è¯•
4. **ä»£ç å®¡æŸ¥**: åœ¨é‡æ„æ—¶ä»”ç»†æ£€æŸ¥å‘½åå†²çª

## ğŸ‰ ä¿®å¤ç»“æœ

ç»è¿‡ä»¥ä¸Šä¿®å¤ï¼Œè¿é”å¤´å¯¸ç­–ç•¥ç›‘æ§åŠŸèƒ½å·²æ¢å¤æ­£å¸¸ï¼š
- âœ… æ­£ç¡®æ˜¾ç¤ºè¿é”å¤´å¯¸ç­–ç•¥å®ä¾‹å¡ç‰‡
- âœ… æ­£ç¡®è¿‡æ»¤å’Œæ˜¾ç¤ºè¿é”å¤´å¯¸ç­–ç•¥æ•°æ®
- âœ… ä¸ç®€å•Yç­–ç•¥å®Œå…¨ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ¶‰
- âœ… ä¿æŒåŸæœ‰çš„æ‰€æœ‰åŠŸèƒ½å’Œç‰¹æ€§

ä¸¤ä¸ªç­–ç•¥ç³»ç»Ÿç°åœ¨å®Œå…¨ç‹¬ç«‹è¿è¡Œï¼Œç”¨æˆ·å¯ä»¥æ­£å¸¸ä½¿ç”¨è¿é”å¤´å¯¸ç­–ç•¥çš„æ‰€æœ‰åŠŸèƒ½ã€‚ 