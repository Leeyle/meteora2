 # DLMMæµåŠ¨æ€§ç®¡ç†å™¨ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æ‚¨çš„ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬ï¼ˆéœ€è¦ >= 18.0.0ï¼‰
node --version

# æ£€æŸ¥npmæˆ–pnpm
npm --version
# æˆ–
pnpm --version
```

### 2ï¸âƒ£ é¡¹ç›®å®‰è£…

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd dlmm-liquidity-manager

# 2. å®‰è£…ä¾èµ–
npm install
# æˆ–ä½¿ç”¨pnpmï¼ˆæ¨èï¼‰
pnpm install

# 3. å®‰è£…Webå‰ç«¯ä¾èµ–
cd web && npm install && cd ..

# 4. éªŒè¯TypeScriptç¼–è¯‘
npx tsc --noEmit
```

### ğŸŒ ç«¯å£é…ç½®

| æœåŠ¡ | ç«¯å£ | æè¿° | è®¿é—®åœ°å€ |
|------|------|------|----------|
| åç«¯API | 7000 | ä¸»è¦APIæœåŠ¡ | http://localhost:7000 |
| å‰ç«¯Web | 7001 | Webç•Œé¢ä»ªè¡¨ç›˜ | http://localhost:7001 |
| WebSocket (åç«¯) | 7002 | åç«¯å®æ—¶é€šä¿¡ | ws://localhost:7002 |
| WebSocket (å‰ç«¯) | 7003 | å‰ç«¯å®æ—¶é€šä¿¡ | ws://localhost:7003 |

### 3ï¸âƒ£ ç¯å¢ƒé…ç½®

```bash
# 1. å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶
cp env.example .env

# 2. ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼Œå¼€å‘ç¯å¢ƒå¯è·³è¿‡ï¼‰
# vim .env
```

### 4ï¸âƒ£ ç¼–è¯‘å’Œæ„å»º

```bash
# æ–¹å¼1: åªæ£€æŸ¥è¯­æ³•ï¼ˆå¿«é€Ÿï¼‰
npx tsc --noEmit

# æ–¹å¼2: å®Œæ•´æ„å»ºï¼ˆå¦‚æœæœ‰æ„å»ºè„šæœ¬ï¼‰
npm run build

# æ–¹å¼3: å¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼‰
npm run dev
```

### 5ï¸âƒ£ è¿è¡Œæµ‹è¯•

```bash
# ğŸ§ª è¿è¡Œç³»ç»ŸåŠŸèƒ½æµ‹è¯•
./scripts/test-system.sh

# ğŸš€ ä¸€é”®å¯åŠ¨ç³»ç»Ÿï¼ˆåŒ…å«æµ‹è¯•ï¼‰
./scripts/quick-start.sh

# ğŸ›‘ ä¸€é”®å…³é—­æ‰€æœ‰æœåŠ¡
./scripts/quick-stop.sh
```

### 6ï¸âƒ£ å¯åŠ¨æœåŠ¡

```bash
# ğŸš€ ä¸€é”®å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
./scripts/quick-start.sh

# æ–¹å¼1: å¯åŠ¨åç«¯API (ç«¯å£7000)
npm run dev

# æ–¹å¼2: å¯åŠ¨å‰ç«¯ç•Œé¢ (ç«¯å£7001)
npm run dev:web

# æ–¹å¼3: ç”Ÿäº§æ¨¡å¼
npm start

# æ–¹å¼4: ç›´æ¥è¿è¡ŒAPIæœåŠ¡å™¨
cd src/server && node api-server.js
```

## ğŸ§ª éªŒè¯å®‰è£…

### ç¼–è¯‘æ£€æŸ¥
```bash
# æ£€æŸ¥TypeScriptç¼–è¯‘
npx tsc --noEmit

# å¦‚æœæˆåŠŸï¼Œä¸ä¼šæœ‰ä»»ä½•è¾“å‡º
echo "âœ… TypeScriptç¼–è¯‘æ£€æŸ¥é€šè¿‡"
```

### æ¨¡å—éªŒè¯
```bash
# æ£€æŸ¥æºç ç»“æ„
ls -la src/
ls -la src/services/strategy/
ls -la src/types/

# éªŒè¯æ ¸å¿ƒæ–‡ä»¶å­˜åœ¨
[ -f src/services/strategy/StrategyEngine.ts ] && echo "âœ… StrategyEngine.tså­˜åœ¨"
[ -f src/services/strategy/StrategyCore.ts ] && echo "âœ… StrategyCore.tså­˜åœ¨"
[ -f src/types/strategy.ts ] && echo "âœ… strategy.tså­˜åœ¨"
```

### APIæµ‹è¯•ï¼ˆå¦‚æœæœåŠ¡å™¨è¿è¡Œä¸­ï¼‰
```bash
# åç«¯APIå¥åº·æ£€æŸ¥
curl http://localhost:7000/api/health

# å‰ç«¯Webç•Œé¢å¥åº·æ£€æŸ¥
curl http://localhost:7001/health

# ç­–ç•¥API
curl http://localhost:7000/api/strategy/list

# ç›‘æ§é¢æ¿
curl http://localhost:7000/api/monitor/dashboard
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### ç¼–è¯‘é”™è¯¯
å¦‚æœé‡åˆ°TypeScriptç¼–è¯‘é”™è¯¯ï¼š

```bash
# 1. æ¸…ç†ç¼“å­˜
rm -rf node_modules/.cache
rm -rf dist/

# 2. é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules/
npm install

# 3. å†æ¬¡æ£€æŸ¥ç¼–è¯‘
npx tsc --noEmit
```

### ä¾èµ–é—®é¢˜
å¦‚æœé‡åˆ°ä¾èµ–é—®é¢˜ï¼š

```bash
# æ£€æŸ¥package.json
cat package.json | grep -A 10 '"dependencies"'

# å®‰è£…ç‰¹å®šä¾èµ–
npm install inversify reflect-metadata

# æ£€æŸ¥ç‰ˆæœ¬å…¼å®¹æ€§
npm ls
```

### æƒé™é—®é¢˜
å¦‚æœè„šæœ¬æ²¡æœ‰æ‰§è¡Œæƒé™ï¼š

```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x scripts/quick-start.sh
chmod +x scripts/test-system.sh

# éªŒè¯æƒé™
ls -la scripts/
```

## ğŸ“Š ç³»ç»ŸçŠ¶æ€æ£€æŸ¥

### å½“å‰é‡æ„çŠ¶æ€

âœ… **å·²å®Œæˆçš„æ¨¡å—**ï¼š
- ç­–ç•¥å¼•æ“æ ¸å¿ƒæ¶æ„ (StrategyEngine, StrategyCore, StrategyScheduler)
- ç­–ç•¥ç®¡ç†ç»„ä»¶ (InstanceManager, Monitor, RecoveryManager, StateManager)
- ç±»å‹ç³»ç»Ÿé‡æ„ (strategy.ts, interfaces.ts)
- æ¨¡å—åŒ–æ¶æ„è®¾è®¡
- TypeScriptç¼–è¯‘é”™è¯¯ä¿®å¤

âš ï¸ **éœ€è¦æ³¨æ„çš„äº‹é¡¹**ï¼š
- æŸäº›ä¸šåŠ¡æœåŠ¡æ¨¡å—å¯èƒ½éœ€è¦è¿›ä¸€æ­¥å®ç°
- åŒºå—é“¾æœåŠ¡é›†æˆéœ€è¦å®é™…çš„RPCé…ç½®
- æ•°æ®åº“è¿æ¥éœ€è¦é…ç½®å®é™…çš„è¿æ¥å­—ç¬¦ä¸²

### æ¶æ„ä¼˜åŠ¿

1. **æ¨¡å—åŒ–è®¾è®¡** - æ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€ï¼Œæ˜“äºç»´æŠ¤
2. **ç±»å‹å®‰å…¨** - å®Œæ•´çš„TypeScriptç±»å‹ç³»ç»Ÿ
3. **äº‹ä»¶é©±åŠ¨** - å¼‚æ­¥äº‹ä»¶å¤„ç†ï¼Œæ€§èƒ½ä¼˜åŒ–
4. **æ•…éšœæ¢å¤** - è‡ªåŠ¨æ•…éšœæ£€æµ‹å’Œæ¢å¤æœºåˆ¶
5. **ç›‘æ§ç³»ç»Ÿ** - å®æ—¶æ€§èƒ½ç›‘æ§å’Œé¢„è­¦

## ğŸ¯ ä¸‹ä¸€æ­¥

### å¼€å‘å»ºè®®
1. **å¿«é€Ÿå¯åŠ¨**: ä½¿ç”¨ `./scripts/quick-start.sh` ä¸€é”®å¯åŠ¨ç³»ç»Ÿ
2. **åç«¯å¼€å‘**: ä½¿ç”¨ `npm run dev` å¯åŠ¨åç«¯API (ç«¯å£7000)
3. **å‰ç«¯å¼€å‘**: ä½¿ç”¨ `npm run dev:web` å¯åŠ¨å‰ç«¯ç•Œé¢ (ç«¯å£7001)
4. **åŠŸèƒ½æµ‹è¯•**: è¿è¡Œ `./scripts/test-system.sh` éªŒè¯ç³»ç»Ÿ
5. **APIè°ƒè¯•**: ä½¿ç”¨Postmanæˆ–curlæµ‹è¯•APIæ¥å£
6. **ç›‘æ§æŸ¥çœ‹**: è®¿é—® `http://localhost:7001` æŸ¥çœ‹Webä»ªè¡¨ç›˜

### éƒ¨ç½²å»ºè®®
1. **ç¯å¢ƒé…ç½®**: é…ç½®ç”Ÿäº§ç¯å¢ƒçš„ `.env` æ–‡ä»¶
2. **æ„å»ºä¼˜åŒ–**: ä½¿ç”¨ `npm run build:prod` æ„å»ºç”Ÿäº§ç‰ˆæœ¬
3. **å®¹å™¨åŒ–**: ä½¿ç”¨ `docker-compose up -d` éƒ¨ç½²
4. **ç›‘æ§é…ç½®**: é…ç½®Prometheuså’ŒGrafanaç›‘æ§

---

ğŸ‰ **ç°åœ¨æ‚¨å·²ç»æŒæ¡äº†DLMMæµåŠ¨æ€§ç®¡ç†å™¨çš„å¿«é€Ÿå¯åŠ¨æ–¹æ³•ï¼**

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- ğŸ“– [å®Œæ•´æ–‡æ¡£](./README-ç³»ç»Ÿæ¶æ„ä¸ä½¿ç”¨æŒ‡å—.md)
- ğŸ—ï¸ [æ¶æ„å›¾](./ç³»ç»Ÿæ¶æ„å›¾.md)
- ğŸ§ª [æµ‹è¯•è„šæœ¬](../scripts/test-system.sh)