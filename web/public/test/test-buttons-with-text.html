<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”˜ æŒ‰é’®æ–‡å­—æµ‹è¯•</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        body {
            background-color: #1a1b2e;
            color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            padding: 2rem;
        }

        .test-section {
            background: #16213e;
            border: 1px solid #0f3460;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .button-preview {
            background: #1a1b2e;
            border: 1px solid #0f3460;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .strategy-demo {
            background: #16213e;
            border: 1px solid #533483;
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .strategy-info {
            flex: 1;
        }

        .strategy-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 class="text-center mb-4">ğŸ”˜ ç­–ç•¥æ“ä½œæŒ‰é’®æ–‡å­—æµ‹è¯•</h1>

        <!-- æµ‹è¯•æ§åˆ¶ -->
        <div class="test-section">
            <h3 class="mb-3">ğŸ® æµ‹è¯•æ§åˆ¶</h3>
            <button class="btn btn-primary" onclick="initTest()">
                ğŸš€ åˆå§‹åŒ–ç­–ç•¥ç®¡ç†å™¨
            </button>
            <button class="btn btn-success" onclick="showButtonPreview()" id="preview-btn" disabled>
                ğŸ‘€ é¢„è§ˆæŒ‰é’®æ•ˆæœ
            </button>
        </div>

        <!-- æŒ‰é’®é¢„è§ˆ -->
        <div class="test-section">
            <h3 class="mb-3">ğŸ”˜ æŒ‰é’®æ ·å¼é¢„è§ˆ</h3>

            <div class="button-preview">
                <h5 class="text-info mb-3">è¿è¡Œä¸­çš„ç­–ç•¥æŒ‰é’®ï¼š</h5>
                <div class="strategy-actions">
                    <button class="btn btn-warning btn-sm" style="min-width: 90px;">â¸ï¸ æš‚åœ</button>
                    <button class="btn btn-secondary btn-sm" style="min-width: 90px;">â¹ï¸ åœæ­¢</button>
                    <button class="btn btn-info btn-sm" style="min-width: 90px;">ğŸ‘ï¸ æŸ¥çœ‹</button>
                    <button class="btn btn-danger btn-sm" style="min-width: 90px;">ğŸ—‘ï¸ åˆ é™¤</button>
                </div>
            </div>

            <div class="button-preview">
                <h5 class="text-success mb-3">å·²åœæ­¢çš„ç­–ç•¥æŒ‰é’®ï¼š</h5>
                <div class="strategy-actions">
                    <button class="btn btn-success btn-sm" style="min-width: 90px;">â–¶ï¸ å¯åŠ¨</button>
                    <button class="btn btn-info btn-sm" style="min-width: 90px;">ğŸ‘ï¸ æŸ¥çœ‹</button>
                    <button class="btn btn-danger btn-sm" style="min-width: 90px;">ğŸ—‘ï¸ åˆ é™¤</button>
                </div>
            </div>

            <div class="button-preview">
                <h5 class="text-warning mb-3">å·²æš‚åœçš„ç­–ç•¥æŒ‰é’®ï¼š</h5>
                <div class="strategy-actions">
                    <button class="btn btn-success btn-sm" style="min-width: 90px;">â–¶ï¸ æ¢å¤</button>
                    <button class="btn btn-secondary btn-sm" style="min-width: 90px;">â¹ï¸ åœæ­¢</button>
                    <button class="btn btn-info btn-sm" style="min-width: 90px;">ğŸ‘ï¸ æŸ¥çœ‹</button>
                    <button class="btn btn-danger btn-sm" style="min-width: 90px;">ğŸ—‘ï¸ åˆ é™¤</button>
                </div>
            </div>
        </div>

        <!-- åŠŸèƒ½è¯´æ˜ -->
        <div class="test-section">
            <h3 class="mb-3">ğŸ“– æŒ‰é’®åŠŸèƒ½è¯´æ˜</h3>
            <div class="row">
                <div class="col-md-6">
                    <h5 class="text-success">â–¶ï¸ å¯åŠ¨/æ¢å¤</h5>
                    <p class="text-muted">å¯åŠ¨å·²åœæ­¢çš„ç­–ç•¥æˆ–æ¢å¤å·²æš‚åœçš„ç­–ç•¥</p>

                    <h5 class="text-warning">â¸ï¸ æš‚åœ</h5>
                    <p class="text-muted">æš‚åœæ­£åœ¨è¿è¡Œçš„ç­–ç•¥ï¼Œå¯ä»¥éšæ—¶æ¢å¤</p>
                </div>
                <div class="col-md-6">
                    <h5 class="text-secondary">â¹ï¸ åœæ­¢</h5>
                    <p class="text-muted">å®Œå…¨åœæ­¢ç­–ç•¥è¿è¡Œï¼Œéœ€è¦é‡æ–°å¯åŠ¨</p>

                    <h5 class="text-info">ğŸ‘ï¸ æŸ¥çœ‹</h5>
                    <p class="text-muted">æŸ¥çœ‹ç­–ç•¥çš„è¯¦ç»†ä¿¡æ¯å’Œè¿è¡ŒçŠ¶æ€</p>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <h5 class="text-danger">ğŸ—‘ï¸ åˆ é™¤</h5>
                    <p class="text-muted">æ°¸ä¹…åˆ é™¤ç­–ç•¥ï¼Œæ­¤æ“ä½œä¸å¯æ’¤é”€</p>
                </div>
            </div>
        </div>

        <!-- ç­–ç•¥ç®¡ç†å™¨æ¼”ç¤º -->
        <div class="test-section">
            <h3 class="mb-3">ğŸ¯ å®é™…æ•ˆæœæ¼”ç¤º</h3>
            <div id="strategy-demo-container">
                <!-- ç­–ç•¥ç®¡ç†å™¨å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>
        </div>

        <!-- æµ‹è¯•ç»“æœ -->
        <div class="test-section">
            <h3 class="mb-3">ğŸ“‹ æµ‹è¯•ç»“æœ</h3>
            <div id="test-results" class="alert alert-info">
                ç­‰å¾…æµ‹è¯•å¼€å§‹...
            </div>
        </div>
    </div>

    <!-- å¼•å…¥ç­–ç•¥æ¨¡å— -->
    <script src="../public/js/components/strategy/strategy-forms-simple.js"></script>
    <script src="../public/js/components/strategy/simple-y-manager.js"></script>

    <script>
        let strategyManager = null;

        function logResult(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.className = `alert alert-${type}`;
            resultsDiv.innerHTML = `[${timestamp}] ${message}`;
        }

        async function initTest() {
            try {
                logResult('ğŸš€ å¼€å§‹åˆå§‹åŒ–ç­–ç•¥ç®¡ç†å™¨...', 'info');

                if (!window.SimpleYStrategyManager || !window.SimpleYStrategyForms) {
                    throw new Error('ç­–ç•¥æ¨¡å—æœªåŠ è½½');
                }

                strategyManager = new SimpleYStrategyManager('strategy-demo-container');
                const success = await strategyManager.init();

                if (success) {
                    logResult('âœ… ç­–ç•¥ç®¡ç†å™¨åˆå§‹åŒ–æˆåŠŸï¼ŒæŒ‰é’®å·²æ·»åŠ æ–‡å­—æ ‡ç­¾', 'success');
                    document.getElementById('preview-btn').disabled = false;
                } else {
                    throw new Error('åˆå§‹åŒ–å¤±è´¥');
                }

            } catch (error) {
                logResult('âŒ åˆå§‹åŒ–å¤±è´¥: ' + error.message, 'danger');
            }
        }

        function showButtonPreview() {
            logResult('ğŸ‘€ æŒ‰é’®é¢„è§ˆå·²æ˜¾ç¤ºï¼Œè¯·æ£€æŸ¥ä¸Šæ–¹çš„æŒ‰é’®æ ·å¼å’Œä¸‹æ–¹çš„å®é™…ç­–ç•¥åˆ—è¡¨', 'success');

            // æ£€æŸ¥æŒ‰é’®æ–‡å­—
            const buttons = document.querySelectorAll('.start-btn, .pause-btn, .stop-btn, .view-btn, .delete-btn');
            let buttonCount = 0;
            let textButtons = 0;

            buttons.forEach(btn => {
                buttonCount++;
                if (btn.textContent.trim().length > 2) { // è¶…è¿‡å•ä¸ªemojié•¿åº¦
                    textButtons++;
                }
            });

            if (textButtons > 0) {
                logResult(`âœ… æˆåŠŸï¼å‘ç° ${textButtons}/${buttonCount} ä¸ªæŒ‰é’®åŒ…å«æ–‡å­—æ ‡ç­¾`, 'success');
            } else {
                logResult(`âš ï¸ æœªå‘ç°åŒ…å«æ–‡å­—çš„æŒ‰é’®ï¼Œå¯èƒ½éœ€è¦ç­‰å¾…æ¸²æŸ“å®Œæˆ`, 'warning');
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆ
        document.addEventListener('DOMContentLoaded', function () {
            logResult('ğŸ“„ æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆï¼Œç‚¹å‡»"åˆå§‹åŒ–ç­–ç•¥ç®¡ç†å™¨"å¼€å§‹æµ‹è¯•', 'info');
        });
    </script>
</body>

</html>