<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‰åç«¯APIå¯¹æ¥æµ‹è¯•</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: #0a1a2e;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .test-section {
            background: #16213e;
            border: 1px solid #0f3460;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .test-button {
            margin: 0.5rem;
            min-width: 150px;
        }

        .result-container {
            background: #1a1b2e;
            border: 1px solid #533483;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            max-height: 300px;
            overflow-y: auto;
        }

        .log-entry {
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            border-radius: 4px;
        }

        .log-success {
            background: rgba(16, 185, 129, 0.1);
            border-left: 3px solid #10b981;
        }

        .log-error {
            background: rgba(239, 68, 68, 0.1);
            border-left: 3px solid #ef4444;
        }

        .log-info {
            background: rgba(59, 130, 246, 0.1);
            border-left: 3px solid #3b82f6;
        }

        .log-warning {
            background: rgba(245, 158, 11, 0.1);
            border-left: 3px solid #f59e0b;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1 class="text-center mb-4">ğŸ§ª å‰åç«¯APIå¯¹æ¥æµ‹è¯•</h1>

        <!-- ç³»ç»Ÿè¿æ¥æµ‹è¯• -->
        <div class="test-section">
            <h3>ğŸ”Œ ç³»ç»Ÿè¿æ¥æµ‹è¯•</h3>
            <p>æµ‹è¯•å‰ç«¯ä¸åç«¯APIæœåŠ¡å™¨çš„åŸºç¡€è¿æ¥</p>
            <div>
                <button class="btn btn-primary test-button" onclick="testHealthCheck()">
                    ğŸ¥ å¥åº·æ£€æŸ¥
                </button>
                <button class="btn btn-info test-button" onclick="testSystemInfo()">
                    ğŸ“Š ç³»ç»Ÿä¿¡æ¯
                </button>
                <button class="btn btn-secondary test-button" onclick="testMetrics()">
                    ğŸ“ˆ ç³»ç»ŸæŒ‡æ ‡
                </button>
            </div>
            <div class="result-container" id="connectionResults">
                <div class="log-info">ç­‰å¾…æµ‹è¯•...</div>
            </div>
        </div>

        <!-- ç­–ç•¥APIæµ‹è¯• -->
        <div class="test-section">
            <h3>ğŸ¯ ç­–ç•¥ç®¡ç†APIæµ‹è¯•</h3>
            <p>æµ‹è¯•ç­–ç•¥çš„CRUDæ“ä½œå’ŒçŠ¶æ€ç®¡ç†</p>
            <div>
                <button class="btn btn-success test-button" onclick="testGetStrategies()">
                    ğŸ“‹ è·å–ç­–ç•¥åˆ—è¡¨
                </button>
                <button class="btn btn-primary test-button" onclick="testCreateStrategy()">
                    â• åˆ›å»ºæµ‹è¯•ç­–ç•¥
                </button>
                <button class="btn btn-warning test-button" onclick="testStrategyOperations()">
                    ğŸ”„ ç­–ç•¥æ“ä½œæµ‹è¯•
                </button>
                <button class="btn btn-secondary test-button" onclick="testGetTemplates()">
                    ğŸ“ è·å–ç­–ç•¥æ¨¡æ¿
                </button>
            </div>
            <div class="result-container" id="strategyResults">
                <div class="log-info">ç­‰å¾…æµ‹è¯•...</div>
            </div>
        </div>

        <!-- å‰ç«¯ç»„ä»¶æµ‹è¯• -->
        <div class="test-section">
            <h3>ğŸ–¥ï¸ å‰ç«¯ç»„ä»¶æµ‹è¯•</h3>
            <p>æµ‹è¯•ç­–ç•¥ç®¡ç†å™¨ç»„ä»¶çš„åŠŸèƒ½</p>
            <div>
                <button class="btn btn-primary test-button" onclick="testComponentInit()">
                    ğŸš€ åˆå§‹åŒ–ç»„ä»¶
                </button>
                <button class="btn btn-success test-button" onclick="testComponentRender()">
                    ğŸ¨ æ¸²æŸ“æµ‹è¯•
                </button>
                <button class="btn btn-warning test-button" onclick="testComponentEvents()">
                    ğŸ”— äº‹ä»¶æµ‹è¯•
                </button>
            </div>
            <div class="result-container" id="componentResults">
                <div class="log-info">ç­‰å¾…æµ‹è¯•...</div>
            </div>
        </div>

        <!-- å®Œæ•´é›†æˆæµ‹è¯• -->
        <div class="test-section">
            <h3>ğŸ”— å®Œæ•´é›†æˆæµ‹è¯•</h3>
            <p>ç«¯åˆ°ç«¯çš„å®Œæ•´åŠŸèƒ½æµ‹è¯•</p>
            <div>
                <button class="btn btn-success test-button" onclick="runFullIntegrationTest()">
                    ğŸ¯ è¿è¡Œå®Œæ•´æµ‹è¯•
                </button>
                <button class="btn btn-danger test-button" onclick="clearAllTestData()">
                    ğŸ§¹ æ¸…ç†æµ‹è¯•æ•°æ®
                </button>
            </div>
            <div class="result-container" id="integrationResults">
                <div class="log-info">ç­‰å¾…æµ‹è¯•...</div>
            </div>
        </div>

        <!-- ç­–ç•¥ç®¡ç†å™¨å®¹å™¨ -->
        <div class="test-section" id="managerContainer" style="display: none;">
            <h3>ğŸ¯ ç­–ç•¥ç®¡ç†å™¨å®ä¾‹</h3>
            <div id="strategyManagerTest"></div>
        </div>
    </div>

    <!-- å¼•å…¥æ‰€éœ€çš„è„šæœ¬ -->
    <script src="../public/js/services/api-service.js"></script>
    <script src="../public/js/components/strategy/strategy-forms-simple.js"></script>
    <script src="../public/js/components/strategy/simple-y-manager.js"></script>

    <script>
        // æµ‹è¯•æ—¥å¿—è®°å½•å™¨
        class TestLogger {
            constructor(containerId) {
                this.container = document.getElementById(containerId);
            }

            log(message, type = 'info') {
                const logEntry = document.createElement('div');
                logEntry.className = `log-entry log-${type}`;
                logEntry.innerHTML = `
                    <strong>[${new Date().toLocaleTimeString()}]</strong> ${message}
                `;
                this.container.appendChild(logEntry);
                this.container.scrollTop = this.container.scrollHeight;
            }

            clear() {
                this.container.innerHTML = '';
            }
        }

        // åˆ›å»ºæ—¥å¿—è®°å½•å™¨
        const connectionLogger = new TestLogger('connectionResults');
        const strategyLogger = new TestLogger('strategyResults');
        const componentLogger = new TestLogger('componentResults');
        const integrationLogger = new TestLogger('integrationResults');

        // ç³»ç»Ÿè¿æ¥æµ‹è¯•
        async function testHealthCheck() {
            connectionLogger.log('ğŸ¥ å¼€å§‹å¥åº·æ£€æŸ¥æµ‹è¯•...', 'info');
            try {
                const result = await window.apiService.healthCheck();
                connectionLogger.log(`âœ… å¥åº·æ£€æŸ¥æˆåŠŸ: ${result.status}`, 'success');
                connectionLogger.log(`ğŸ“Š ç³»ç»Ÿè¿è¡Œæ—¶é—´: ${result.uptime}ms`, 'info');
                connectionLogger.log(`ğŸ’¾ å†…å­˜ä½¿ç”¨: ${result.memory?.used}`, 'info');
            } catch (error) {
                connectionLogger.log(`âŒ å¥åº·æ£€æŸ¥å¤±è´¥: ${error.message}`, 'error');
            }
        }

        async function testSystemInfo() {
            connectionLogger.log('ğŸ“Š å¼€å§‹ç³»ç»Ÿä¿¡æ¯æµ‹è¯•...', 'info');
            try {
                const result = await window.apiService.getSystemInfo();
                connectionLogger.log(`âœ… ç³»ç»Ÿä¿¡æ¯è·å–æˆåŠŸ`, 'success');
                connectionLogger.log(`ğŸ“‹ ç³»ç»Ÿåç§°: ${result.name}`, 'info');
                connectionLogger.log(`ğŸ”– ç‰ˆæœ¬: ${result.version}`, 'info');
                connectionLogger.log(`ğŸ“ æè¿°: ${result.description}`, 'info');
            } catch (error) {
                connectionLogger.log(`âŒ è·å–ç³»ç»Ÿä¿¡æ¯å¤±è´¥: ${error.message}`, 'error');
            }
        }

        async function testMetrics() {
            connectionLogger.log('ğŸ“ˆ å¼€å§‹ç³»ç»ŸæŒ‡æ ‡æµ‹è¯•...', 'info');
            try {
                const result = await window.apiService.getMetrics();
                connectionLogger.log(`âœ… ç³»ç»ŸæŒ‡æ ‡è·å–æˆåŠŸ`, 'success');
                connectionLogger.log(`ğŸ“Š æ€»è¯·æ±‚æ•°: ${result.requests?.total}`, 'info');
                connectionLogger.log(`âœ… æˆåŠŸç‡: ${result.requests?.successRate}%`, 'success');
                connectionLogger.log(`ğŸ’¾ å †å†…å­˜: ${result.memory?.heapUsed}MB`, 'info');
            } catch (error) {
                connectionLogger.log(`âŒ è·å–ç³»ç»ŸæŒ‡æ ‡å¤±è´¥: ${error.message}`, 'error');
            }
        }

        // ç­–ç•¥APIæµ‹è¯•
        async function testGetStrategies() {
            strategyLogger.log('ğŸ“‹ å¼€å§‹è·å–ç­–ç•¥åˆ—è¡¨æµ‹è¯•...', 'info');
            try {
                const strategies = await window.apiService.getStrategies();
                strategyLogger.log(`âœ… ç­–ç•¥åˆ—è¡¨è·å–æˆåŠŸï¼Œå…± ${strategies.length} ä¸ªç­–ç•¥`, 'success');
                strategies.forEach((strategy, index) => {
                    strategyLogger.log(`ğŸ“„ ç­–ç•¥ ${index + 1}: ${strategy.name || strategy.id} (${strategy.status})`, 'info');
                });
            } catch (error) {
                strategyLogger.log(`âŒ è·å–ç­–ç•¥åˆ—è¡¨å¤±è´¥: ${error.message}`, 'error');
            }
        }

        async function testCreateStrategy() {
            strategyLogger.log('â• å¼€å§‹åˆ›å»ºæµ‹è¯•ç­–ç•¥...', 'info');
            const testStrategy = {
                name: `APIæµ‹è¯•ç­–ç•¥_${Date.now()}`,
                poolAddress: 'So11111111111111111111111111111111111111112',
                yAmount: 100,
                binRange: 35,
                stopLossCount: 1,
                stopLossBinOffset: 25,
                upwardTimeout: 300,
                downwardTimeout: 60
            };

            try {
                const result = await window.apiService.createStrategy(testStrategy);
                strategyLogger.log(`âœ… ç­–ç•¥åˆ›å»ºæˆåŠŸ: ${result.instanceId || result.id}`, 'success');
                strategyLogger.log(`ğŸ“‹ ç­–ç•¥è¯¦æƒ…: ${JSON.stringify(result, null, 2)}`, 'info');

                // ä¿å­˜ç­–ç•¥IDä¾›åç»­æµ‹è¯•ä½¿ç”¨
                window.testStrategyId = result.instanceId || result.id;
            } catch (error) {
                strategyLogger.log(`âŒ ç­–ç•¥åˆ›å»ºå¤±è´¥: ${error.message}`, 'error');
            }
        }

        async function testStrategyOperations() {
            if (!window.testStrategyId) {
                strategyLogger.log('âš ï¸ è¯·å…ˆåˆ›å»ºæµ‹è¯•ç­–ç•¥', 'warning');
                return;
            }

            const strategyId = window.testStrategyId;
            strategyLogger.log(`ğŸ”„ å¼€å§‹ç­–ç•¥æ“ä½œæµ‹è¯• (ID: ${strategyId})...`, 'info');

            try {
                // æµ‹è¯•å¯åŠ¨
                strategyLogger.log('ğŸš€ æµ‹è¯•å¯åŠ¨ç­–ç•¥...', 'info');
                await window.apiService.startStrategy(strategyId);
                strategyLogger.log('âœ… ç­–ç•¥å¯åŠ¨æˆåŠŸ', 'success');

                // ç­‰å¾…ä¸€ä¸‹
                await new Promise(resolve => setTimeout(resolve, 1000));

                // æµ‹è¯•æš‚åœ
                strategyLogger.log('â¸ï¸ æµ‹è¯•æš‚åœç­–ç•¥...', 'info');
                await window.apiService.pauseStrategy(strategyId);
                strategyLogger.log('âœ… ç­–ç•¥æš‚åœæˆåŠŸ', 'success');

                // æµ‹è¯•æ¢å¤
                strategyLogger.log('â–¶ï¸ æµ‹è¯•æ¢å¤ç­–ç•¥...', 'info');
                await window.apiService.resumeStrategy(strategyId);
                strategyLogger.log('âœ… ç­–ç•¥æ¢å¤æˆåŠŸ', 'success');

                // æµ‹è¯•è·å–çŠ¶æ€
                strategyLogger.log('ğŸ‘ï¸ æµ‹è¯•è·å–ç­–ç•¥çŠ¶æ€...', 'info');
                const status = await window.apiService.getStrategyStatus(strategyId);
                strategyLogger.log(`âœ… ç­–ç•¥çŠ¶æ€: ${JSON.stringify(status, null, 2)}`, 'success');

                // æµ‹è¯•åœæ­¢
                strategyLogger.log('â¹ï¸ æµ‹è¯•åœæ­¢ç­–ç•¥...', 'info');
                await window.apiService.stopStrategy(strategyId);
                strategyLogger.log('âœ… ç­–ç•¥åœæ­¢æˆåŠŸ', 'success');

            } catch (error) {
                strategyLogger.log(`âŒ ç­–ç•¥æ“ä½œæµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
            }
        }

        async function testGetTemplates() {
            strategyLogger.log('ğŸ“ å¼€å§‹è·å–ç­–ç•¥æ¨¡æ¿æµ‹è¯•...', 'info');
            try {
                const templates = await window.apiService.getStrategyTemplates();
                strategyLogger.log(`âœ… ç­–ç•¥æ¨¡æ¿è·å–æˆåŠŸï¼Œå…± ${templates.length} ä¸ªæ¨¡æ¿`, 'success');
                templates.forEach((template, index) => {
                    strategyLogger.log(`ğŸ“„ æ¨¡æ¿ ${index + 1}: ${template.name} - ${template.description}`, 'info');
                });
            } catch (error) {
                strategyLogger.log(`âŒ è·å–ç­–ç•¥æ¨¡æ¿å¤±è´¥: ${error.message}`, 'error');
            }
        }

        // å‰ç«¯ç»„ä»¶æµ‹è¯•
        let testManager = null;

        async function testComponentInit() {
            componentLogger.log('ğŸš€ å¼€å§‹ç»„ä»¶åˆå§‹åŒ–æµ‹è¯•...', 'info');
            try {
                document.getElementById('managerContainer').style.display = 'block';

                testManager = new SimpleYStrategyManager('strategyManagerTest');
                await testManager.init();

                componentLogger.log('âœ… ç­–ç•¥ç®¡ç†å™¨ç»„ä»¶åˆå§‹åŒ–æˆåŠŸ', 'success');
                componentLogger.log(`ğŸ“Š åŠ è½½äº† ${testManager.strategies.length} ä¸ªç­–ç•¥`, 'info');
                componentLogger.log(`ğŸ“ åŠ è½½äº† ${testManager.templates.length} ä¸ªæ¨¡æ¿`, 'info');
            } catch (error) {
                componentLogger.log(`âŒ ç»„ä»¶åˆå§‹åŒ–å¤±è´¥: ${error.message}`, 'error');
            }
        }

        async function testComponentRender() {
            if (!testManager) {
                componentLogger.log('âš ï¸ è¯·å…ˆåˆå§‹åŒ–ç»„ä»¶', 'warning');
                return;
            }

            componentLogger.log('ğŸ¨ å¼€å§‹ç»„ä»¶æ¸²æŸ“æµ‹è¯•...', 'info');
            try {
                testManager.render();
                componentLogger.log('âœ… ç»„ä»¶æ¸²æŸ“æˆåŠŸ', 'success');

                // æ£€æŸ¥æ¸²æŸ“ç»“æœ
                const container = document.getElementById('strategyManagerTest');
                const buttons = container.querySelectorAll('button');
                const tables = container.querySelectorAll('table');

                componentLogger.log(`ğŸ”˜ æ¸²æŸ“äº† ${buttons.length} ä¸ªæŒ‰é’®`, 'info');
                componentLogger.log(`ğŸ“Š æ¸²æŸ“äº† ${tables.length} ä¸ªè¡¨æ ¼`, 'info');
            } catch (error) {
                componentLogger.log(`âŒ ç»„ä»¶æ¸²æŸ“å¤±è´¥: ${error.message}`, 'error');
            }
        }

        async function testComponentEvents() {
            if (!testManager) {
                componentLogger.log('âš ï¸ è¯·å…ˆåˆå§‹åŒ–ç»„ä»¶', 'warning');
                return;
            }

            componentLogger.log('ğŸ”— å¼€å§‹ç»„ä»¶äº‹ä»¶æµ‹è¯•...', 'info');
            try {
                testManager.bindEvents();
                componentLogger.log('âœ… äº‹ä»¶ç»‘å®šæˆåŠŸ', 'success');

                // æ¨¡æ‹Ÿç‚¹å‡»åˆ·æ–°æŒ‰é’®
                const refreshBtn = document.getElementById('refresh-simple-y-btn');
                if (refreshBtn) {
                    componentLogger.log('ğŸ”„ æ¨¡æ‹Ÿç‚¹å‡»åˆ·æ–°æŒ‰é’®...', 'info');
                    refreshBtn.click();
                    componentLogger.log('âœ… åˆ·æ–°æŒ‰é’®äº‹ä»¶è§¦å‘æˆåŠŸ', 'success');
                }
            } catch (error) {
                componentLogger.log(`âŒ ç»„ä»¶äº‹ä»¶æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
            }
        }

        // å®Œæ•´é›†æˆæµ‹è¯•
        async function runFullIntegrationTest() {
            integrationLogger.clear();
            integrationLogger.log('ğŸ¯ å¼€å§‹å®Œæ•´é›†æˆæµ‹è¯•...', 'info');

            try {
                // 1. ç³»ç»Ÿè¿æ¥æµ‹è¯•
                integrationLogger.log('1ï¸âƒ£ æµ‹è¯•ç³»ç»Ÿè¿æ¥...', 'info');
                await window.apiService.healthCheck();
                integrationLogger.log('âœ… ç³»ç»Ÿè¿æ¥æ­£å¸¸', 'success');

                // 2. è·å–ç°æœ‰ç­–ç•¥
                integrationLogger.log('2ï¸âƒ£ è·å–ç°æœ‰ç­–ç•¥...', 'info');
                const existingStrategies = await window.apiService.getStrategies();
                integrationLogger.log(`âœ… ç°æœ‰ç­–ç•¥æ•°é‡: ${existingStrategies.length}`, 'success');

                // 3. åˆ›å»ºæµ‹è¯•ç­–ç•¥
                integrationLogger.log('3ï¸âƒ£ åˆ›å»ºæµ‹è¯•ç­–ç•¥...', 'info');
                const testStrategy = {
                    name: `é›†æˆæµ‹è¯•ç­–ç•¥_${Date.now()}`,
                    poolAddress: 'So11111111111111111111111111111111111111112',
                    yAmount: 50,
                    binRange: 30,
                    stopLossCount: 1,
                    stopLossBinOffset: 20,
                    upwardTimeout: 180,
                    downwardTimeout: 45
                };

                const createdStrategy = await window.apiService.createStrategy(testStrategy);
                const strategyId = createdStrategy.instanceId || createdStrategy.id;
                integrationLogger.log(`âœ… ç­–ç•¥åˆ›å»ºæˆåŠŸ: ${strategyId}`, 'success');

                // 4. æµ‹è¯•ç­–ç•¥ç”Ÿå‘½å‘¨æœŸ
                integrationLogger.log('4ï¸âƒ£ æµ‹è¯•ç­–ç•¥ç”Ÿå‘½å‘¨æœŸ...', 'info');

                // å¯åŠ¨
                await window.apiService.startStrategy(strategyId);
                integrationLogger.log('âœ… ç­–ç•¥å¯åŠ¨æˆåŠŸ', 'success');

                await new Promise(resolve => setTimeout(resolve, 1000));

                // æš‚åœ
                await window.apiService.pauseStrategy(strategyId);
                integrationLogger.log('âœ… ç­–ç•¥æš‚åœæˆåŠŸ', 'success');

                // æ¢å¤
                await window.apiService.resumeStrategy(strategyId);
                integrationLogger.log('âœ… ç­–ç•¥æ¢å¤æˆåŠŸ', 'success');

                // åœæ­¢
                await window.apiService.stopStrategy(strategyId);
                integrationLogger.log('âœ… ç­–ç•¥åœæ­¢æˆåŠŸ', 'success');

                // 5. å‰ç«¯ç»„ä»¶é›†æˆæµ‹è¯•
                integrationLogger.log('5ï¸âƒ£ æµ‹è¯•å‰ç«¯ç»„ä»¶é›†æˆ...', 'info');
                if (!testManager) {
                    testManager = new SimpleYStrategyManager('strategyManagerTest');
                    await testManager.init();
                }
                testManager.render();
                integrationLogger.log('âœ… å‰ç«¯ç»„ä»¶é›†æˆæ­£å¸¸', 'success');

                // 6. æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥
                integrationLogger.log('6ï¸âƒ£ æ£€æŸ¥æ•°æ®ä¸€è‡´æ€§...', 'info');
                const updatedStrategies = await window.apiService.getStrategies();
                if (updatedStrategies.length === existingStrategies.length + 1) {
                    integrationLogger.log('âœ… æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥é€šè¿‡', 'success');
                } else {
                    integrationLogger.log('âš ï¸ æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥å¼‚å¸¸', 'warning');
                }

                integrationLogger.log('ğŸ‰ å®Œæ•´é›†æˆæµ‹è¯•é€šè¿‡ï¼', 'success');

            } catch (error) {
                integrationLogger.log(`âŒ é›†æˆæµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                console.error('é›†æˆæµ‹è¯•é”™è¯¯è¯¦æƒ…:', error);
            }
        }

        async function clearAllTestData() {
            integrationLogger.log('ğŸ§¹ å¼€å§‹æ¸…ç†æµ‹è¯•æ•°æ®...', 'info');
            try {
                const strategies = await window.apiService.getStrategies();
                const testStrategies = strategies.filter(s =>
                    s.name && (s.name.includes('æµ‹è¯•') || s.name.includes('APIæµ‹è¯•') || s.name.includes('é›†æˆæµ‹è¯•'))
                );

                integrationLogger.log(`ğŸ” å‘ç° ${testStrategies.length} ä¸ªæµ‹è¯•ç­–ç•¥`, 'info');

                for (const strategy of testStrategies) {
                    try {
                        await window.apiService.deleteStrategy(strategy.instanceId || strategy.id);
                        integrationLogger.log(`ğŸ—‘ï¸ åˆ é™¤æµ‹è¯•ç­–ç•¥: ${strategy.name}`, 'success');
                    } catch (error) {
                        integrationLogger.log(`âŒ åˆ é™¤ç­–ç•¥å¤±è´¥: ${strategy.name} - ${error.message}`, 'error');
                    }
                }

                integrationLogger.log('âœ… æµ‹è¯•æ•°æ®æ¸…ç†å®Œæˆ', 'success');
            } catch (error) {
                integrationLogger.log(`âŒ æ¸…ç†æµ‹è¯•æ•°æ®å¤±è´¥: ${error.message}`, 'error');
            }
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function () {
            connectionLogger.log('ğŸš€ APIå¯¹æ¥æµ‹è¯•é¡µé¢å·²åŠ è½½', 'info');
            strategyLogger.log('ğŸ¯ ç­–ç•¥APIæµ‹è¯•æ¨¡å—å·²å°±ç»ª', 'info');
            componentLogger.log('ğŸ–¥ï¸ å‰ç«¯ç»„ä»¶æµ‹è¯•æ¨¡å—å·²å°±ç»ª', 'info');
            integrationLogger.log('ğŸ”— é›†æˆæµ‹è¯•æ¨¡å—å·²å°±ç»ª', 'info');
        });
    </script>
</body>

</html>