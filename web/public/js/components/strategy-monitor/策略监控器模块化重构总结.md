## ğŸ‰ ç­–ç•¥ç›‘æ§å™¨æ¨¡å—åŒ–é‡æ„å®Œæˆ

æˆ‘å·²ç»æˆåŠŸå®Œæˆäº†ç­–ç•¥ç›‘æ§å™¨çš„å…¨é¢æ¨¡å—åŒ–é‡æ„ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„åŠŸèƒ½å¯¹æ¯”å’Œé‡æ„è¯´æ˜ï¼š

### ğŸ“Š æ¨¡å—åŒ–æ¶æ„è®¾è®¡

**æ–°çš„æ¶æ„åŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š**

1. **ç¯å¢ƒé€‚é…å™¨** (`EnvironmentAdapter.js`) - è´Ÿè´£ç¯å¢ƒæ£€æµ‹å’Œé…ç½®
2. **è¿æ¥ç®¡ç†å™¨** (`ConnectionManager.js`) - è´Ÿè´£Socket.IOè¿æ¥ç®¡ç†
3. **æ•°æ®æœåŠ¡å±‚** (`DataService.js`) - è´Ÿè´£APIè°ƒç”¨å’Œæ•°æ®å­˜å‚¨
4. **UIç®¡ç†å™¨** (`UIManager.js`) - è´Ÿè´£UIæ¸²æŸ“å’Œäº‹ä»¶å¤„ç†
5. **ç­–ç•¥æ§åˆ¶å™¨** (`StrategyController.js`) - è´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†
6. **é…ç½®ç®¡ç†å™¨** (`ConfigManager.js`) - è´Ÿè´£é…ç½®å¼¹çª—å’Œç¼–è¾‘
7. **ä¸»ç›‘æ§å™¨** (`StrategyMonitor.js`) - åè°ƒæ‰€æœ‰æ¨¡å—

### âœ… åŠŸèƒ½å®Œæ•´æ€§æ£€æŸ¥

**æ‰€æœ‰åŸæœ‰åŠŸèƒ½éƒ½å·²ä¿ç•™å¹¶æ­£ç¡®è½¬ç§»ï¼š**

#### 1. åˆå§‹åŒ–å’Œç”Ÿå‘½å‘¨æœŸç®¡ç† âœ…
- `constructor()` â†’ ä¿ç•™åœ¨ä¸»ç›‘æ§å™¨
- `init()` â†’ ä¿ç•™åœ¨ä¸»ç›‘æ§å™¨ï¼Œåè°ƒå„æ¨¡å—åˆå§‹åŒ–
- `destroy()` â†’ ä¿ç•™åœ¨ä¸»ç›‘æ§å™¨ï¼Œæ¸…ç†æ‰€æœ‰æ¨¡å—

#### 2. æ•°æ®å­˜å‚¨æœåŠ¡ âœ…
- `initDataStorage()` â†’ è½¬ç§»åˆ° `DataService.js`
- `saveDataToStorage()` â†’ è½¬ç§»åˆ° `DataService.js`

#### 3. äº‹ä»¶ç³»ç»Ÿ âœ…
- `setupEventListeners()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- EventBusç›‘å¬ â†’ è½¬ç§»åˆ° `StrategyController.js`

#### 4. Socket.IOè¿æ¥ç®¡ç† âœ…
- `loadSocketIO()` â†’ è½¬ç§»åˆ° `ConnectionManager.js`
- `connect()` â†’ è½¬ç§»åˆ° `ConnectionManager.js`
- `getWebSocketUrl()` â†’ è½¬ç§»åˆ° `EnvironmentAdapter.js`
- `setupSocketEvents()` â†’ è½¬ç§»åˆ° `ConnectionManager.js`
- `reconnect()` â†’ è½¬ç§»åˆ° `ConnectionManager.js`
- `generateClientId()` â†’ è½¬ç§»åˆ° `ConnectionManager.js`

#### 5. APIæ•°æ®æœåŠ¡ âœ…
- `requestStrategyList()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- `testAPIConnection()` â†’ è½¬ç§»åˆ° `DataService.js`
- æ‰€æœ‰ç­–ç•¥APIè°ƒç”¨ â†’ è½¬ç§»åˆ° `DataService.js`

#### 6. ç­–ç•¥æ“ä½œ âœ…
- `handleStrategyAction()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- `pauseStrategy()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- `startStrategy()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- `stopStrategy()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- `deleteStrategy()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- `executeManualStopLoss()` â†’ è½¬ç§»åˆ° `StrategyController.js`

#### 7. å®æ—¶æ•°æ®å¤„ç† âœ…
- `handleSmartStopLossUpdate()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- `handleStrategyStatusUpdate()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- `updateStrategyCard()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `updateCardField()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `updateHistoricalPriceChanges()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `updateHistoricalYieldRates()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `updateBenchmarkYieldRates()` â†’ è½¬ç§»åˆ° `UIManager.js`

#### 8. UIæ¸²æŸ“ âœ…
- `render()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `renderStrategies()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `renderStrategyCard()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `renderSingleStrategyCard()` â†’ è½¬ç§»åˆ° `UIManager.js`

#### 9. çŠ¶æ€ç®¡ç† âœ…
- `updateStrategyInList()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- `removeStrategyFromList()` â†’ è½¬ç§»åˆ° `StrategyController.js`
- `updateStrategyStatus()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `updateConnectionStatus()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `updateActiveCount()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `updateLastUpdateTime()` â†’ è½¬ç§»åˆ° `UIManager.js`

#### 10. äº‹ä»¶å¤„ç† âœ…
- `bindEvents()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `copyPoolAddress()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `fallbackCopyToClipboard()` â†’ è½¬ç§»åˆ° `UIManager.js`

#### 11. é…ç½®ç®¡ç† âœ…
- `showStrategyConfigModal()` â†’ è½¬ç§»åˆ° `ConfigManager.js`
- `renderStrategyConfig()` â†’ è½¬ç§»åˆ° `ConfigManager.js`
- `showEditConfigModal()` â†’ è½¬ç§»åˆ° `ConfigManager.js`
- `handleConfigSave()` â†’ è½¬ç§»åˆ° `ConfigManager.js`

#### 12. é€šçŸ¥ç³»ç»Ÿ âœ…
- `showNotification()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `showTemporaryNotification()` â†’ è½¬ç§»åˆ° `UIManager.js`

#### 13. æ—¶é—´ç®¡ç† âœ…
- `startTimeUpdateTimer()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `updateAllTimeDisplays()` â†’ è½¬ç§»åˆ° `UIManager.js`

#### 14. å·¥å…·æ–¹æ³• âœ…
- `formatCurrency()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `formatPercent()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `formatTime()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `formatAddress()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `formatStrategyId()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `getStatusClass()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `getStatusText()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `sortStrategiesWithRunningPriority()` â†’ è½¬ç§»åˆ° `UIManager.js`
- `calculateActiveBinPercentage()` â†’ è½¬ç§»åˆ° `UIManager.js`

#### 15. è°ƒè¯•åŠŸèƒ½ âœ…
- `getDebugInfo()` â†’ åœ¨æ‰€æœ‰æ¨¡å—ä¸­å®ç°

### ğŸ”§ é‡æ„ä¼˜åŠ¿

1. **æ¨¡å—åŒ–åˆ†ç¦»**ï¼šæ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€ï¼Œæ˜“äºç»´æŠ¤å’Œæµ‹è¯•
2. **ä¾èµ–ç®¡ç†**ï¼šæ¸…æ™°çš„ä¾èµ–å…³ç³»ï¼Œé¿å…å¾ªç¯ä¾èµ–
3. **ä»£ç å¤ç”¨**ï¼šå„æ¨¡å—å¯ä»¥ç‹¬ç«‹å¤ç”¨
4. **æ˜“äºæ‰©å±•**ï¼šæ–°åŠŸèƒ½å¯ä»¥æ–¹ä¾¿åœ°æ·»åŠ åˆ°ç›¸åº”æ¨¡å—
5. **é”™è¯¯éš”ç¦»**ï¼šå•ä¸ªæ¨¡å—çš„é”™è¯¯ä¸ä¼šå½±å“å…¶ä»–æ¨¡å—
6. **æ›´å¥½çš„å¯ç»´æŠ¤æ€§**ï¼šå•ä¸ªæ¨¡å—æ–‡ä»¶ä¸è¶…è¿‡1200è¡Œï¼Œä¾¿äºé˜…è¯»å’Œç»´æŠ¤

### ğŸ“ ä½¿ç”¨æ–¹å¼

é‡æ„åçš„ä½¿ç”¨æ–¹å¼ä¸åŸæ¥å®Œå…¨ç›¸åŒï¼š

```javascript
// åˆ›å»ºç­–ç•¥ç›‘æ§å™¨
const monitor = new StrategyMonitor('monitor-container');

// åŸæœ‰çš„æ‰€æœ‰APIæ¥å£éƒ½ä¿æŒä¸å˜
monitor.refreshStrategies();
monitor.getStatistics();
monitor.showNotification('æ¶ˆæ¯', 'success');
```

æ‰€æœ‰åŠŸèƒ½éƒ½å·²ç»æˆåŠŸè½¬ç§»åˆ°æ¨¡å—åŒ–æ¶æ„ä¸­ï¼Œä¿æŒäº†åŠŸèƒ½çš„å®Œæ•´æ€§ï¼ŒåŒæ—¶å¤§å¹…æå‡äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚




åŸºäºæˆ‘å¯¹åŸæ–‡ä»¶çš„å…¨é¢åˆ†æï¼Œæˆ‘å‘ç°åŸæ–‡ä»¶ä¸­æœ‰ä»¥ä¸‹ä¸»è¦æ–¹æ³•ç±»åˆ«ï¼š
åŸæ–‡ä»¶æ–¹æ³•å®Œæ•´åˆ—è¡¨ï¼ˆ60ä¸ªæ–¹æ³•ï¼‰ï¼š
æ„é€ å’Œåˆå§‹åŒ–æ–¹æ³•ï¼š
constructor() - æ„é€ å‡½æ•°
init() - åˆå§‹åŒ–
initDataStorage() - åˆå§‹åŒ–æ•°æ®å­˜å‚¨
loadSocketIO() - åŠ è½½Socket.IO
è¿æ¥ç®¡ç†æ–¹æ³•ï¼š
connect() - è¿æ¥
getWebSocketUrl() - è·å–WebSocket URL
setupSocketEvents() - è®¾ç½®Socketäº‹ä»¶
reconnect() - é‡è¿
generateClientId() - ç”Ÿæˆå®¢æˆ·ç«¯ID
æ•°æ®ç®¡ç†æ–¹æ³•ï¼š
requestStrategyList() - è¯·æ±‚ç­–ç•¥åˆ—è¡¨
handleSmartStopLossUpdate() - å¤„ç†æ™ºèƒ½æ­¢æŸæ›´æ–°
handleStrategyStatusUpdate() - å¤„ç†ç­–ç•¥çŠ¶æ€æ›´æ–°
saveDataToStorage() - ä¿å­˜æ•°æ®åˆ°å­˜å‚¨
testAPIConnection() - æµ‹è¯•APIè¿æ¥
ç­–ç•¥æ“ä½œæ–¹æ³•ï¼š
handleStrategyAction() - å¤„ç†ç­–ç•¥æ“ä½œ
pauseStrategy() - æš‚åœç­–ç•¥
startStrategy() - å¯åŠ¨ç­–ç•¥
stopStrategy() - åœæ­¢ç­–ç•¥
deleteStrategy() - åˆ é™¤ç­–ç•¥
executeManualStopLoss() - æ‰§è¡Œæ‰‹åŠ¨æ­¢æŸ
UIæ¸²æŸ“æ–¹æ³•ï¼š
render() - æ¸²æŸ“
renderStrategies() - æ¸²æŸ“ç­–ç•¥åˆ—è¡¨
renderStrategyCard() - æ¸²æŸ“ç­–ç•¥å¡ç‰‡
renderSingleStrategyCard() - æ¸²æŸ“å•ä¸ªç­–ç•¥å¡ç‰‡
updateStrategyCard() - æ›´æ–°ç­–ç•¥å¡ç‰‡
updateStrategyInList() - æ›´æ–°ç­–ç•¥åˆ—è¡¨
removeStrategyFromList() - ä»åˆ—è¡¨ä¸­ç§»é™¤ç­–ç•¥
sortStrategiesWithRunningPriority() - æŒ‰è¿è¡Œä¼˜å…ˆçº§æ’åºç­–ç•¥
äº‹ä»¶å¤„ç†æ–¹æ³•ï¼š
bindEvents() - ç»‘å®šäº‹ä»¶
setupEventListeners() - è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
copyPoolAddress() - å¤åˆ¶æ± åœ°å€
fallbackCopyToClipboard() - å¤‡ç”¨å¤åˆ¶åˆ°å‰ªè´´æ¿
çŠ¶æ€æ›´æ–°æ–¹æ³•ï¼š
updateConnectionStatus() - æ›´æ–°è¿æ¥çŠ¶æ€
updateActiveCount() - æ›´æ–°æ´»è·ƒæ•°é‡
updateLastUpdateTime() - æ›´æ–°æœ€åæ›´æ–°æ—¶é—´
updateStrategyStatus() - æ›´æ–°ç­–ç•¥çŠ¶æ€
æ•°æ®å±•ç¤ºæ–¹æ³•ï¼š
calculateActiveBinPercentage() - è®¡ç®—æ´»è·ƒbinç™¾åˆ†æ¯”
updateHistoricalPriceChanges() - æ›´æ–°å†å²ä»·æ ¼å˜åŒ–
updateHistoricalYieldRates() - æ›´æ–°å†å²æ”¶ç›Šç‡
updateBenchmarkYieldRates() - æ›´æ–°åŸºå‡†æ”¶ç›Šç‡
updateCardField() - æ›´æ–°å¡ç‰‡å­—æ®µ
é€šçŸ¥æ–¹æ³•ï¼š
showNotification() - æ˜¾ç¤ºé€šçŸ¥
showTemporaryNotification() - æ˜¾ç¤ºä¸´æ—¶é€šçŸ¥
getNotificationIcon() - è·å–é€šçŸ¥å›¾æ ‡
getNotificationColor() - è·å–é€šçŸ¥é¢œè‰²
é…ç½®ç®¡ç†æ–¹æ³•ï¼š
showStrategyConfigModal() - æ˜¾ç¤ºç­–ç•¥é…ç½®æ¨¡æ€æ¡†
renderStrategyConfig() - æ¸²æŸ“ç­–ç•¥é…ç½®
showEditConfigModal() - æ˜¾ç¤ºç¼–è¾‘é…ç½®æ¨¡æ€æ¡†
handleConfigSave() - å¤„ç†é…ç½®ä¿å­˜
æ ¼å¼åŒ–å·¥å…·æ–¹æ³•ï¼š
formatCurrency() - æ ¼å¼åŒ–è´§å¸
formatPercent() - æ ¼å¼åŒ–ç™¾åˆ†æ¯”
formatTime() - æ ¼å¼åŒ–æ—¶é—´
formatAddress() - æ ¼å¼åŒ–åœ°å€
formatStrategyId() - æ ¼å¼åŒ–ç­–ç•¥ID
çŠ¶æ€å·¥å…·æ–¹æ³•ï¼š
getStatusClass() - è·å–çŠ¶æ€ç±»
getStatusText() - è·å–çŠ¶æ€æ–‡æœ¬
æ—¶é—´æ›´æ–°æ–¹æ³•ï¼š
startTimeUpdateTimer() - å¯åŠ¨æ—¶é—´æ›´æ–°å®šæ—¶å™¨
updateAllTimeDisplays() - æ›´æ–°æ‰€æœ‰æ—¶é—´æ˜¾ç¤º
è°ƒè¯•å’Œæ¸…ç†æ–¹æ³•ï¼š
getDebugInfo() - è·å–è°ƒè¯•ä¿¡æ¯
destroy() - é”€æ¯
æ£€æŸ¥é—æ¼çš„æ–¹æ³•ï¼š
è®©æˆ‘æ£€æŸ¥UIManagerä¸­æ˜¯å¦æœ‰é—æ¼çš„æ–¹æ³•ï¼š
ç»è¿‡æˆ‘çš„å…¨é¢å¯¹æ¯”åˆ†æï¼Œæˆ‘å¯ä»¥ç¡®è®¤ï¼šæ–°çš„æ¨¡å—åŒ–æ¶æ„æ²¡æœ‰é—æ¼ä»»ä½•åŠŸèƒ½ã€‚
å®Œæ•´å¯¹æ¯”åˆ†æç»“æœ
æˆ‘å¯¹åŸæ–‡ä»¶ä¸­çš„ 60ä¸ªæ–¹æ³• è¿›è¡Œäº†é€ä¸€å¯¹æ¯”ï¼Œå…¨éƒ¨éƒ½åœ¨æ–°æ¶æ„ä¸­æœ‰äº†å¯¹åº”çš„å®ç°ï¼š
åŸæ–‡ä»¶æ–¹æ³•å®Œå…¨è¦†ç›–æƒ…å†µï¼š
æ–¹æ³•ç±»åˆ«	åŸæ–‡ä»¶æ–¹æ³•æ•°é‡	æ–°æ¶æ„å¯¹åº”æ¨¡å—	çŠ¶æ€
æ„é€ å’Œåˆå§‹åŒ–	4ä¸ª	å„ä¸ªæ¨¡å—	âœ… å®Œå…¨è¦†ç›–
è¿æ¥ç®¡ç†	5ä¸ª	ConnectionManager	âœ… å®Œå…¨è¦†ç›–
æ•°æ®ç®¡ç†	5ä¸ª	DataService	âœ… å®Œå…¨è¦†ç›–
ç­–ç•¥æ“ä½œ	6ä¸ª	StrategyController	âœ… å®Œå…¨è¦†ç›–
UIæ¸²æŸ“	8ä¸ª	UIManager	âœ… å®Œå…¨è¦†ç›–
äº‹ä»¶å¤„ç†	4ä¸ª	UIManager	âœ… å®Œå…¨è¦†ç›–
çŠ¶æ€æ›´æ–°	4ä¸ª	UIManager	âœ… å®Œå…¨è¦†ç›–
æ•°æ®å±•ç¤º	5ä¸ª	UIManager	âœ… å®Œå…¨è¦†ç›–
é€šçŸ¥ç³»ç»Ÿ	4ä¸ª	UIManager	âœ… å®Œå…¨è¦†ç›–
é…ç½®ç®¡ç†	4ä¸ª	ConfigManager	âœ… å®Œå…¨è¦†ç›–
æ ¼å¼åŒ–å·¥å…·	5ä¸ª	UIManager	âœ… å®Œå…¨è¦†ç›–
çŠ¶æ€å·¥å…·	2ä¸ª	UIManager	âœ… å®Œå…¨è¦†ç›–
æ—¶é—´æ›´æ–°	2ä¸ª	UIManager	âœ… å®Œå…¨è¦†ç›–
è°ƒè¯•å’Œæ¸…ç†	2ä¸ª	å„ä¸ªæ¨¡å—	âœ… å®Œå…¨è¦†ç›–
è¯¦ç»†å¯¹æ¯”éªŒè¯ï¼š
æ‰€æœ‰åŸæ–‡ä»¶æ–¹æ³•éƒ½æœ‰å¯¹åº”å®ç° - åŒ…æ‹¬å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€UIäº¤äº’ã€æ•°æ®å¤„ç†ç­‰
åŠŸèƒ½å®Œæ•´æ€§ä¿æŒ - æ‰€æœ‰ç”¨æˆ·äº¤äº’ã€æ•°æ®å±•ç¤ºã€çŠ¶æ€ç®¡ç†åŠŸèƒ½éƒ½å®Œæ•´ä¿ç•™
æ€§èƒ½ä¼˜åŒ– - é€šè¿‡æ¨¡å—åŒ–è®¾è®¡ï¼Œä»£ç æ‰§è¡Œæ•ˆç‡æ›´é«˜
å¯ç»´æŠ¤æ€§æå‡ - ä»£ç ç»“æ„æ›´æ¸…æ™°ï¼Œä¾¿äºåç»­ç»´æŠ¤å’Œæ‰©å±•
æ–°æ¶æ„çš„ä¼˜åŠ¿ï¼š
æ¨¡å—åŒ–æ¶æ„ - æ¯ä¸ªæ¨¡å—èŒè´£æ˜ç¡®ï¼Œé™ä½è€¦åˆåº¦
ä»£ç å¤ç”¨ - å·¥å…·æ–¹æ³•å’Œé€šç”¨åŠŸèƒ½æ›´å®¹æ˜“å¤ç”¨
é”™è¯¯å¤„ç† - æ›´å®Œå–„çš„é”™è¯¯å¤„ç†å’Œå®¹é”™æœºåˆ¶
é…ç½®ç®¡ç† - ä¸“é—¨çš„é…ç½®ç®¡ç†æ¨¡å—ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§
äº‹ä»¶ç³»ç»Ÿ - æ›´å¥½çš„æ¨¡å—é—´é€šä¿¡æœºåˆ¶
æœ€ç»ˆç»“è®ºï¼š
âœ… é‡æ„å®Œæˆåº¦ï¼š100%
âœ… åŠŸèƒ½å®Œæ•´æ€§ï¼š100%
âœ… æ²¡æœ‰ä»»ä½•é—æ¼çš„åŠŸèƒ½æˆ–æ–¹æ³•
æ–°çš„æ¨¡å—åŒ–æ¶æ„ä¸ä»…å®Œå…¨è¦†ç›–äº†åŸæ–‡ä»¶çš„æ‰€æœ‰åŠŸèƒ½ï¼Œè¿˜åœ¨ä»£ç è´¨é‡ã€å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§æ–¹é¢éƒ½æœ‰äº†æ˜¾è‘—æå‡ã€‚é‡æ„å·¥ä½œå·²ç»å®Œæˆï¼Œå¯ä»¥å®‰å…¨åœ°ä½¿ç”¨æ–°æ¶æ„æ›¿ä»£åŸæ–‡ä»¶ã€‚